{"version":3,"sources":["app.js"],"names":["listProductHTML","document","querySelector","listCartHTML","iconCart","iconCartSpan","body","closeCart","addEventListener","classList","toggle","addDataToHTML","products","length","newProduct","dataset","product","createElement","id","appendChild","innerHTML","concat","image","name","price","positionClick","target","addToCart","id_product","event","contains","parentElement","product_id","positionThisProductInCart","cart","findIndex","value","quantity","push","addCartToHTML","addCartToMemory","localStorage","setItem","JSON","stringify","totalQuantity","item","newItem","add","forEach","positionProduct","info","type","changeQuantityCart","positionItemInCart","changeQuantity","then","response","json","data","initApp","getItem","parse"],"mappings":"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","file":"app.min.js","sourcesContent":["let listProductHTML = document.querySelector('.listProduct');\nlet listCartHTML = document.querySelector('.listCart');\nlet iconCart = document.querySelector('.icon-cart');\nlet iconCartSpan = document.querySelector('.icon-cart span');\nlet body = document.querySelector('body');\nlet closeCart = document.querySelector('.close');\nlet products = [];\nlet cart = [];\n\n\niconCart.addEventListener('click', () => {\n    body.classList.toggle('showCart');\n})\ncloseCart.addEventListener('click', () => {\n    body.classList.toggle('showCart');\n})\n\n    const addDataToHTML = () => {\n\n        if(products.length > 0) \n        {\n            products.forEach(product => {\n                let newProduct = document.createElement('div');\n                newProduct.dataset.id = product.id;\n                newProduct.classList.add('item');\n                newProduct.innerHTML = \n                `<img src=\"${product.image}\" alt=\"\">\n                <h2>${product.name}</h2>\n                <div class=\"price\">$${product.price}</div>\n                <button class=\"addCart\">Add To Cart</button>`;\n                listProductHTML.appendChild(newProduct);\n            });\n        }\n    }\n    listProductHTML.addEventListener('click', (event) => {\n        let positionClick = event.target;\n        if(positionClick.classList.contains('addCart')){\n            let id_product = positionClick.parentElement.dataset.id;\n            addToCart(id_product);\n        }\n    })\nconst addToCart = (product_id) => {\n    let positionThisProductInCart = cart.findIndex((value) => value.product_id == product_id);\n    if(cart.length <= 0){\n        cart = [{\n            product_id: product_id,\n            quantity: 1\n        }];\n    }else if(positionThisProductInCart < 0){\n        cart.push({\n            product_id: product_id,\n            quantity: 1\n        });\n    }else{\n        cart[positionThisProductInCart].quantity = cart[positionThisProductInCart].quantity + 1;\n    }\n    addCartToHTML();\n    addCartToMemory();\n}\nconst addCartToMemory = () => {\n    localStorage.setItem('cart', JSON.stringify(cart));\n}\nconst addCartToHTML = () => {\n    listCartHTML.innerHTML = '';\n    let totalQuantity = 0;\n    if(cart.length > 0){\n        cart.forEach(item => {\n            totalQuantity = totalQuantity +  item.quantity;\n            let newItem = document.createElement('div');\n            newItem.classList.add('item');\n            newItem.dataset.id = item.product_id;\n\n            let positionProduct = products.findIndex((value) => value.id == item.product_id);\n            let info = products[positionProduct];\n            listCartHTML.appendChild(newItem);\n            newItem.innerHTML = `\n            <div class=\"image\">\n                    <img src=\"${info.image}\">\n                </div>\n                <div class=\"name\">\n                ${info.name}\n                </div>\n                <div class=\"totalPrice\">$${info.price * item.quantity}</div>\n                <div class=\"quantity\">\n                    <span class=\"minus\"><</span>\n                    <span>${item.quantity}</span>\n                    <span class=\"plus\">></span>\n                </div>\n            `;\n        })\n    }\n    iconCartSpan.innerText = totalQuantity;\n}\n\nlistCartHTML.addEventListener('click', (event) => {\n    let positionClick = event.target;\n    if(positionClick.classList.contains('minus') || positionClick.classList.contains('plus')){\n        let product_id = positionClick.parentElement.parentElement.dataset.id;\n        let type = 'minus';\n        if(positionClick.classList.contains('plus')){\n            type = 'plus';\n        }\n        changeQuantityCart(product_id, type);\n    }\n})\nconst changeQuantityCart = (product_id, type) => {\n    let positionItemInCart = cart.findIndex((value) => value.product_id == product_id);\n    if(positionItemInCart >= 0){\n        let info = cart[positionItemInCart];\n        switch (type) {\n            case 'plus':\n                cart[positionItemInCart].quantity = cart[positionItemInCart].quantity + 1;\n                break;\n        \n            default:\n                let changeQuantity = cart[positionItemInCart].quantity - 1;\n                if (changeQuantity > 0) {\n                    cart[positionItemInCart].quantity = changeQuantity;\n                }else{\n                    cart.splice(positionItemInCart, 1);\n                }\n                break;\n        }\n    }\n    addCartToHTML();\n    addCartToMemory();\n}\n\nconst initApp = () => {\n    fetch('products.json')\n    .then(response => response.json())\n    .then(data => {\n        products = data;\n        addDataToHTML();\n        if(localStorage.getItem('cart')){\n            cart = JSON.parse(localStorage.getItem('cart'));\n            addCartToHTML();\n        }\n    })\n}\ninitApp();"]}