{"version":3,"sources":["app.js"],"names":["listProductHTML","document","querySelector","listCartHTML","iconCart","iconCartSpan","body","closeCart","products","cart","addEventListener","classList","toggle","addDataToHTML","length","forEach","product","newProduct","createElement","dataset","id","add","innerHTML","image","name","price","appendChild","event","positionClick","target","contains","id_product","parentElement","addToCart","product_id","positionThisProductInCart","findIndex","value","quantity","push","addCartToHTML","addCartToMemory","localStorage","setItem","JSON","stringify","totalQuantity","item","newItem","positionProduct","info","innerText","type","changeQuantityCart","positionItemInCart","changeQuantity","splice","initApp","fetch","then","response","json","data","getItem","parse"],"mappings":"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","sourcesContent":["let listProductHTML = document.querySelector('.listProduct');\nlet listCartHTML = document.querySelector('.listCart');\nlet iconCart = document.querySelector('.icon-cart');\nlet iconCartSpan = document.querySelector('.icon-cart span');\nlet body = document.querySelector('body');\nlet closeCart = document.querySelector('.close');\nlet products = [];\nlet cart = [];\n\n\niconCart.addEventListener('click', () => {\n    body.classList.toggle('showCart');\n})\ncloseCart.addEventListener('click', () => {\n    body.classList.toggle('showCart');\n})\n\n    const addDataToHTML = () => {\n\n        if(products.length > 0) \n        {\n            products.forEach(product => {\n                let newProduct = document.createElement('div');\n                newProduct.dataset.id = product.id;\n                newProduct.classList.add('item');\n                newProduct.innerHTML = \n                `<img src=\"${product.image}\" alt=\"\">\n                <h2>${product.name}</h2>\n                <div class=\"price\">$${product.price}</div>\n                <button class=\"addCart\">Add To Cart</button>`;\n                listProductHTML.appendChild(newProduct);\n            });\n        }\n    }\n    listProductHTML.addEventListener('click', (event) => {\n        let positionClick = event.target;\n        if(positionClick.classList.contains('addCart')){\n            let id_product = positionClick.parentElement.dataset.id;\n            addToCart(id_product);\n        }\n    })\nconst addToCart = (product_id) => {\n    let positionThisProductInCart = cart.findIndex((value) => value.product_id == product_id);\n    if(cart.length <= 0){\n        cart = [{\n            product_id: product_id,\n            quantity: 1\n        }];\n    }else if(positionThisProductInCart < 0){\n        cart.push({\n            product_id: product_id,\n            quantity: 1\n        });\n    }else{\n        cart[positionThisProductInCart].quantity = cart[positionThisProductInCart].quantity + 1;\n    }\n    addCartToHTML();\n    addCartToMemory();\n}\nconst addCartToMemory = () => {\n    localStorage.setItem('cart', JSON.stringify(cart));\n}\nconst addCartToHTML = () => {\n    listCartHTML.innerHTML = '';\n    let totalQuantity = 0;\n    if(cart.length > 0){\n        cart.forEach(item => {\n            totalQuantity = totalQuantity +  item.quantity;\n            let newItem = document.createElement('div');\n            newItem.classList.add('item');\n            newItem.dataset.id = item.product_id;\n\n            let positionProduct = products.findIndex((value) => value.id == item.product_id);\n            let info = products[positionProduct];\n            listCartHTML.appendChild(newItem);\n            newItem.innerHTML = `\n            <div class=\"image\">\n                    <img src=\"${info.image}\">\n                </div>\n                <div class=\"name\">\n                ${info.name}\n                </div>\n                <div class=\"totalPrice\">$${info.price * item.quantity}</div>\n                <div class=\"quantity\">\n                    <span class=\"minus\"><</span>\n                    <span>${item.quantity}</span>\n                    <span class=\"plus\">></span>\n                </div>\n            `;\n        })\n    }\n    iconCartSpan.innerText = totalQuantity;\n}\n\nlistCartHTML.addEventListener('click', (event) => {\n    let positionClick = event.target;\n    if(positionClick.classList.contains('minus') || positionClick.classList.contains('plus')){\n        let product_id = positionClick.parentElement.parentElement.dataset.id;\n        let type = 'minus';\n        if(positionClick.classList.contains('plus')){\n            type = 'plus';\n        }\n        changeQuantityCart(product_id, type);\n    }\n})\nconst changeQuantityCart = (product_id, type) => {\n    let positionItemInCart = cart.findIndex((value) => value.product_id == product_id);\n    if(positionItemInCart >= 0){\n        let info = cart[positionItemInCart];\n        switch (type) {\n            case 'plus':\n                cart[positionItemInCart].quantity = cart[positionItemInCart].quantity + 1;\n                break;\n        \n            default:\n                let changeQuantity = cart[positionItemInCart].quantity - 1;\n                if (changeQuantity > 0) {\n                    cart[positionItemInCart].quantity = changeQuantity;\n                }else{\n                    cart.splice(positionItemInCart, 1);\n                }\n                break;\n        }\n    }\n    addCartToHTML();\n    addCartToMemory();\n}\n\nconst initApp = () => {\n    fetch('products.json')\n    .then(response => response.json())\n    .then(data => {\n        products = data;\n        addDataToHTML();\n        if(localStorage.getItem('cart')){\n            cart = JSON.parse(localStorage.getItem('cart'));\n            addCartToHTML();\n        }\n    })\n}\ninitApp();"],"file":"app.dev.js"}