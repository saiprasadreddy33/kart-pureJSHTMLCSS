"use strict";var listProductHTML=document.querySelector(".listProduct"),listCartHTML=document.querySelector(".listCart"),iconCart=document.querySelector(".icon-cart"),iconCartSpan=document.querySelector(".icon-cart span"),body=document.querySelector("body"),closeCart=document.querySelector(".close"),products=[],cart=[];iconCart.addEventListener("click",function(){body.classList.toggle("showCart")}),closeCart.addEventListener("click",function(){body.classList.toggle("showCart")});var addDataToHTML=function(){0<products.length&&products.forEach(function(t){var a=document.createElement("div");a.dataset.id=t.id,a.classList.add("item"),a.innerHTML='<img src="'.concat(t.image,'" alt="">\n                <h2>').concat(t.name,'</h2>\n                <div class="price">$').concat(t.price,'</div>\n                <button class="addCart">Add To Cart</button>'),listProductHTML.appendChild(a)})};listProductHTML.addEventListener("click",function(t){var a=t.target;if(a.classList.contains("addCart")){var n=a.parentElement.dataset.id;addToCart(n)}});var addToCart=function(a){var t=cart.findIndex(function(t){return t.product_id==a});cart.length<=0?cart=[{product_id:a,quantity:1}]:t<0?cart.push({product_id:a,quantity:1}):cart[t].quantity=cart[t].quantity+1,addCartToHTML(),addCartToMemory()},addCartToMemory=function(){localStorage.setItem("cart",JSON.stringify(cart))},addCartToHTML=function(){listCartHTML.innerHTML="";var r=0;0<cart.length&&cart.forEach(function(a){r+=a.quantity;var t=document.createElement("div");t.classList.add("item"),t.dataset.id=a.product_id;var n=products.findIndex(function(t){return t.id==a.product_id}),c=products[n];listCartHTML.appendChild(t),t.innerHTML='\n            <div class="image">\n                    <img src="'.concat(c.image,'">\n                </div>\n                <div class="name">\n                ').concat(c.name,'\n                </div>\n                <div class="totalPrice">$').concat(c.price*a.quantity,'</div>\n                <div class="quantity">\n                    <span class="minus"><</span>\n                    <span>').concat(a.quantity,'</span>\n                    <span class="plus">></span>\n                </div>\n            ')}),iconCartSpan.innerText=r};listCartHTML.addEventListener("click",function(t){var a=t.target;if(a.classList.contains("minus")||a.classList.contains("plus")){var n=a.parentElement.parentElement.dataset.id,c="minus";a.classList.contains("plus")&&(c="plus"),changeQuantityCart(n,c)}});var changeQuantityCart=function(a,t){var n=cart.findIndex(function(t){return t.product_id==a});if(0<=n){cart[n];switch(t){case"plus":cart[n].quantity=cart[n].quantity+1;break;default:var c=cart[n].quantity-1;0<c?cart[n].quantity=c:cart.splice(n,1)}}addCartToHTML(),addCartToMemory()},initApp=function(){fetch("products.json").then(function(t){return t.json()}).then(function(t){products=t,addDataToHTML(),localStorage.getItem("cart")&&(cart=JSON.parse(localStorage.getItem("cart")),addCartToHTML())})};initApp();
//# sourceMappingURL=app.min.js.map
